DB Migrations
		Make migration file
			php artisan make:migration nameoftable
				database/migrations/2021_12_03_104056_nameoftable.php
		
		Merge migrations into a single SQL file
			php artisan schema:dump
			php artisan schema:dump --prune		// Dump db schema and prune all migrations
				database/schema/
		
		Migration Structure
		A migration class contains two methods: up and down. The up method is used to add new tables, columns, or indexes to your database, while the down method should reverse the operations performed by the up method.
			
			protected $connection = 'mysql';	//name of dbconn
			public function up()
			{
			
				Schema::connection('mysql2')->create('users', function (Blueprint $table) {
					$table->id();
				});

                if (Schema::hasTable('users')) {
                    // The "users" table exists...
                }
                
                if (Schema::hasColumn('users', 'email')) {
                    // The "users" table exists and has an "email" column...
                }
				
                //create table
				Schema::create('tablename', function (Blueprint $table) {	//uses default dbconn
					$table->engine = 'InnoDB';	//optional
                    $table->charset = 'utf8mb4'; //optional
                    $table->collation = 'utf8mb4_unicode_ci'; //optional
				
                	$table->id();
					$table->string('name');
					$table->string('user');
					$table->[index]('user');
					$table->timestamps();
				});
				
                //update table
				Schema::table('tablename', function (Blueprint $table) {	//update
					$table->integer('votes');	//add new col
					$table->char('votes',100)->change();	//update attr	
					$table->renameColumn('fromcolname', 'tocolname');
					$table->dropColumn('votes');
					$table->dropColumn(['votes', 'avatar', 'location']);
					$table->integer('votes')->[modifier]();

					OR
					
					$table->after('password', function ($table) {		//add after col
						$table->string('address_line1');
						$table->string('address_line2');
						$table->string('city');
					});
					
				});
				
                //rename table
				Schema::rename($fromtablename, $totablename);
								
			}
			
			public function down()
			{
				Schema::drop('tablename');
				Schema::dropIfExists('tablename');

			}

			Index
				$table->primary('id');			//primary key.
				$table->primary(['id', 'parent_id']);
				$table->unique('email');	//	Adds unique.
				$table->unique('email', 'unique_email');
				$table->index('state');
		
			Columns types
				binary('name')	//BLOB
				boolean()
				char('name', 1000)
                datetime()
                date()
				id()	//for auto-incrementing primary key as id or 'colname'
				increments('id')	//for auto-incrementing primary key
				integer
				longText
                softDeletes
				string('name', 100)
				text
				year

			Foreign
				$table->foreign('user_id')->references('id')->on('users');
		
			Table update modifiers
				->after('column')
				->autoIncrement()
				->default($value)
				->nullable($value = true)
				->unique()

			Index modifiers
				->dropPrimary('users_id_primary');	Drop a primary key from the "users" table.
				->dropUnique('users_email_unique');	Drop a unique index from the "users" table.
				->dropIndex('geo_state_index');	Drop a basic index from the "geo" table.

		
		Check migrations
			php artisan migrate
			php artisan migrate:status

		Rolling Back
			php artisan migrate:rollback	//last migration
			php artisan migrate:reset		//all migrations
			php artisan migrate:refresh		//rollback all and migrate
			php artisan migrate:fresh		//drop all tables and migrate
			